<html>
    <Title>
        Lock-Smith
    </Title>

    <link rel="stylesheet" href="Lock-smith.css">
    <script type="text/javascript" src="Lock-smith.js"></script>

    <h1>
        Lock-smith
    </h1>

    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }
    
      th, td {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }
    
      th {
        background-color: #f2f2f2;
      }
    </style>
    </head>

    <body>
      <form id="loginForm">
        <label for="website">Website:</label>
        <input type="text" id="website" name="website">
        <br> 
        <label for="password">Password:</label>
        <input type="password" id="password" name="password">
        <label for="searchWebsite">Search Password:</label>
        <input type="text" id="searchWebsite" name="searchWebsite">
        <button id="searchButton">Search</button>
        <br>
        <input type="submit" value="Submit">
        <br>
        <br>        
      </form>
      <h2>Saved Data</h2>
      <table id="credentialsTable">
        <thead>
          <tr>
            <th>Website</th>
            <th>Password</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
      <br>
      <br>
      <button id="clearDataButton">Clear Saved Data</button>

      <script>
        document.getElementById("clearDataButton").addEventListener("click", function(event) 
        {
          event.preventDefault();
          localStorage.removeItem("credentials");
          document.querySelector("#credentialsTable tbody").innerHTML = ""; 
          alert("Saved data has been cleared.");
        });
        document.getElementById("loginForm").addEventListener("submit", function(event) 
        { 
          event.preventDefault();         
          var website = document.getElementById("website").value;
          var password = document.getElementById("password").value;   
          if (website && password) {
            var credentials = JSON.parse(localStorage.getItem("credentials")) || [];   
            credentials.push({ website: website, password: password });   
            localStorage.setItem("credentials", JSON.stringify(credentials));   
            document.getElementById("website").value = "";
            document.getElementById("password").value = "";           
            alert("Website and password saved to local storage.");    
            refreshCredentialsTable();
          } 
          else 
          {
            alert("Please fill in both website and password fields.");
          }
        });   
        function refreshCredentialsTable() 
        {
          var credentials = JSON.parse(localStorage.getItem("credentials")) || [];
          var tableBody = document.querySelector("#credentialsTable tbody");    
          tableBody.innerHTML = "";    
          credentials.forEach(function(credential) {
            var newRow = document.createElement("tr");
            newRow.innerHTML = "<td>" + credential.website + "</td><td>" + credential.password + "</td>";
            tableBody.appendChild(newRow);
          });
        }
        window.onload = function() 
        {
          refreshCredentialsTable();
        };
    
        document.getElementById("searchButton").addEventListener("click", function(event) 
        {
          event.preventDefault();
          var searchWebsite = document.getElementById("searchWebsite").value.toLowerCase();
          var credentials = JSON.parse(localStorage.getItem("credentials")) || [];
          var foundPassword = false;
          credentials.forEach(function(credential) 
          {
          if (credential.website.toLowerCase() === searchWebsite) {
            alert("Password for " + credential.website + ": " + credential.password);
            foundPassword = true;
          }
        });
        if (!foundPassword) 
        {
          alert("No password found for the entered website.");
        }
      });
      </script>

      
    </body>
</html>







